<div class="auth-page">
  <!-- Professional Page Header -->
  <div class="page-header">
    <div class="container">
      <div class="header-content">
        <div class="breadcrumb">
          <a routerLink="/">Home</a>
          <span class="separator">></span>
          <span class="current">{{isLoginMode ? 'Login' : 'Register'}}</span>
        </div>
        <h1 class="page-title">{{isLoginMode ? 'Welcome Back!' : 'Join Mahabaleshwer Mart'}}</h1>
        <p class="page-description">
          {{isLoginMode ? 'Sign in to your account to continue your fresh food journey' : 'Create an account to start your organic shopping experience'}}
        </p>
      </div>
    </div>
  </div>

  <!-- Auth Content -->
  <div class="auth-content">
    <div class="container">
      <div class="auth-container">
        <!-- Professional Back Button -->
        <button class="back-btn" (click)="goBack()">
          <svg class="back-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m12 19-7-7 7-7"/>
            <path d="M19 12H5"/>
          </svg>
          Go Back
        </button>

        <!-- Professional Auth Card -->
        <div class="auth-card">
          <!-- Professional Form Header -->
          <div class="form-header">
            <div class="form-icon">
              <svg *ngIf="isLoginMode" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect width="18" height="11" x="3" y="11" rx="2" ry="2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
              <svg *ngIf="!isLoginMode" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="m22 11-3-3m0 0-3 3m3-3v12"/>
              </svg>
            </div>
            <h2 class="form-title">{{isLoginMode ? 'Sign In' : 'Create Account'}}</h2>
            <p class="form-subtitle">
              {{isLoginMode ? 'Enter your credentials to access your account' : 'Fill in your details to get started with fresh, organic products'}}
            </p>
          </div>

          <!-- Professional Success/Error Messages -->
          <div class="message success" *ngIf="successMessage">
            <svg class="message-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 12l2 2 4-4"/>
              <circle cx="12" cy="12" r="10"/>
            </svg>
            <span>{{successMessage}}</span>
          </div>

          <div class="message error" *ngIf="errorMessage">
            <svg class="message-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/>
              <path d="m15 9-6 6"/>
              <path d="m9 9 6 6"/>
            </svg>
            <span>{{errorMessage}}</span>
          </div>

          <!-- Professional Auth Form -->
          <form class="auth-form" (ngSubmit)="onSubmit()" #authForm="ngForm">
            
            <!-- Register Fields -->
            <div class="form-group" *ngIf="!isLoginMode">
              <label for="name">Full Name</label>
              <div class="input-container">
                <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                  <circle cx="12" cy="7" r="4"/>
                </svg>
                <input
                  type="text"
                  id="name"
                  name="name"
                  [(ngModel)]="registerData.name"
                  placeholder="Enter your full name"
                  required
                  #name="ngModel"
                  class="form-control"
                  [class.error]="name.invalid && name.touched">
              </div>
              <div class="field-error" *ngIf="name.invalid && name.touched">
                <span *ngIf="name.errors?.['required']">Name is required</span>
              </div>
            </div>

            <!-- Professional Email Field -->
            <div class="form-group">
              <label for="email">Email Address</label>
              <div class="input-container">
                <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                  <polyline points="22,6 12,13 2,6"/>
                </svg>
                <input
                  type="email"
                  id="email"
                  name="email"
                  [ngModel]="isLoginMode ? loginData.email : registerData.email"
                  (ngModelChange)="isLoginMode ? (loginData.email = $event) : (registerData.email = $event)"
                  placeholder="Enter your email address"
                  required
                  email
                  #email="ngModel"
                  class="form-control"
                  [class.error]="email.invalid && email.touched">
              </div>
              <div class="field-error" *ngIf="email.invalid && email.touched">
                <span *ngIf="email.errors?.['required']">Email is required</span>
                <span *ngIf="email.errors?.['email']">Please enter a valid email address</span>
              </div>
            </div>

            <!-- Professional Phone Field (Register only) -->
            <div class="form-group" *ngIf="!isLoginMode">
              <label for="phone">Phone Number (Optional)</label>
              <div class="input-container">
                <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                </svg>
                <input
                  type="tel"
                  id="phone"
                  name="phone"
                  [(ngModel)]="registerData.phone"
                  placeholder="Enter your phone number"
                  class="form-control">
              </div>
            </div>

            <!-- Professional Password Field -->
            <div class="form-group">
              <label for="password">Password</label>
              <div class="input-container">
                <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect width="18" height="11" x="3" y="11" rx="2" ry="2"/>
                  <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                </svg>
                <input
                  [type]="showPassword ? 'text' : 'password'"
                  id="password"
                  name="password"
                  [ngModel]="isLoginMode ? loginData.password : registerData.password"
                  (ngModelChange)="isLoginMode ? (loginData.password = $event) : (registerData.password = $event)"
                  [placeholder]="isLoginMode ? 'Enter your password' : 'Create a strong password (min 6 characters)'"
                  required
                  [minlength]="isLoginMode ? 1 : 6"
                  #password="ngModel"
                  class="form-control"
                  [class.error]="password.invalid && password.touched">
                <button type="button" 
                        class="password-toggle" 
                        (click)="togglePasswordVisibility()">
                  <svg *ngIf="!showPassword" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                    <circle cx="12" cy="12" r="3"/>
                  </svg>
                  <svg *ngIf="showPassword" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m9.88 9.88a3 3 0 1 0 4.24 4.24"/>
                    <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 11 8 11 8a13.16 13.16 0 0 1-1.67 2.68"/>
                    <path d="M6.61 6.61A13.526 13.526 0 0 0 1 12s4 8 11 8a9.74 9.74 0 0 0 5.39-1.61"/>
                    <line x1="2" x2="22" y1="2" y2="22"/>
                  </svg>
                </button>
              </div>
              <div class="field-error" *ngIf="password.invalid && password.touched">
                <span *ngIf="password.errors?.['required']">Password is required</span>
                <span *ngIf="password.errors?.['minlength'] && !isLoginMode">Password must be at least 6 characters long</span>
              </div>
            </div>

            <!-- Professional Submit Button -->
            <button type="submit" 
                    class="submit-btn"
                    [disabled]="!authForm.form.valid || isLoading"
                    [class.loading]="isLoading">
              <svg class="btn-icon" *ngIf="!isLoading && isLoginMode" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M9 12l2 2 4-4"/>
                <path d="M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9c2.12 0 4.07.74 5.61 1.98"/>
              </svg>
              <svg class="btn-icon" *ngIf="!isLoading && !isLoginMode" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="m22 11-3-3m0 0-3 3m3-3v12"/>
              </svg>
              <div class="btn-loading" *ngIf="isLoading">
                <div class="loading-spinner"></div>
              </div>
              <span class="btn-text">
                {{isLoading ? 'Please wait...' : (isLoginMode ? 'Sign In to Continue' : 'Create My Account')}}
              </span>
            </button>

            <!-- Professional Quick Login (Demo) -->
            <button type="button" 
                    class="demo-btn"
                    *ngIf="isLoginMode"
                    (click)="quickLogin()"
                    [disabled]="isLoading">
              <svg class="btn-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
              </svg>
              Quick Demo Login
            </button>
          </form>

          <!-- Professional Form Footer -->
          <div class="form-footer">
            <div class="switch-mode">
              <span>{{isLoginMode ? "Don't have an account?" : "Already have an account?"}}</span>
              <button type="button" class="switch-btn" (click)="toggleMode()">
                {{isLoginMode ? 'Create Account' : 'Sign In'}}
              </button>
            </div>

            <!-- Professional Features -->
            <div class="auth-features">
              <div class="feature">
                <svg class="feature-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>
                <span>Secure & Safe</span>
              </div>
              <div class="feature">
                <svg class="feature-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M14 18V6a2 2 0 0 0-2-2c-1.1 0-2 .9-2 2v11a4 4 0 0 0 8 0V9l-6-6"/>
                </svg>
                <span>Fast Delivery</span>
              </div>
              <div class="feature">
                <svg class="feature-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M7 20h10"/>
                  <path d="M10 20c0-1.5.8-2.8 2-3.4V14a2 2 0 0 1 4 0v2.6c1.2.6 2 1.9 2 3.4"/>
                  <path d="M12 4a2 2 0 0 1 2 2c0 .6-.4 1.2-.8 1.6l-.9.8c-.9.9-.9 2.4 0 3.3l.9.8c.4.4.8 1 .8 1.6a2 2 0 0 1-4 0c0-.6.4-1.2.8-1.6l.9-.8c.9-.9.9-2.4 0-3.3l-.9-.8C12.4 7.2 12 6.6 12 6a2 2 0 0 1 0-2z"/>
                </svg>
                <span>Fresh & Organic</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Professional Side Banner -->
        <div class="auth-banner">
          <div class="banner-content">
            <div class="banner-icon">
              <svg width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="8" cy="21" r="1"/>
                <circle cx="19" cy="21" r="1"/>
                <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/>
              </svg>
            </div>
            <h3>{{isLoginMode ? 'Welcome Back!' : 'Join Our Community'}}</h3>
            <p>
              {{isLoginMode 
                ? 'Continue your fresh, organic food journey with us. Access your cart, orders, and personalized recommendations for healthy living.' 
                : 'Join thousands of satisfied customers who trust us for fresh, organic produce delivered directly to their doorstep. Start your healthy lifestyle today!'
              }}
            </p>
            
            <div class="banner-stats">
              <div class="stat">
                <div class="stat-number">50K+</div>
                <div class="stat-label">Happy Customers</div>
              </div>
              <div class="stat">
                <div class="stat-number">500+</div>
                <div class="stat-label">Fresh Products</div>
              </div>
              <div class="stat">
                <div class="stat-number">99%</div>
                <div class="stat-label">Satisfaction Rate</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
